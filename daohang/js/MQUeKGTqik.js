__d("widget.coolskin.xmas","widget.canlash.stage,widget.canlash.sprite,widget.canlash.effect,widget.canlash.imageloader,common.js.log,common.js.jquery".split(","),function(g,x,t,b){function u(){function b(a,d){var d=d||20,c,g=[],i=new k;for(c=0;c<d;c++){var f=8E3+8E3*Math.random(),h=f*Math.random(),j=Math.random()*(e-100)+50,m=0.5+0.5*Math.random(),n=50*Math.random();i.add(new k(function(c){c.drawImage(l,0,0)}),"snowImg"+c);g.push([f,h,j,m,n])}i.paint=function(b,i){for(c=0;c<d;c++){var a=g[c],e=a[2],
f=a[3],h=a[4],a=p(i,a[0],a[1]);this["snowImg"+c].scale=f;this["snowImg"+c].x=e+h*Math.cos(2*Math.PI*a)|0;this["snowImg"+c].y=(o-30)*a|0}};return i}var d=a.getContext("2d");h=new v(d,e,o);var l=j.snow,f=j.carriage,g;"loaded"===l.status&&(l=l.img,g=b(d,80));d=new k(function(a,b){var c=p(b,18E3,0);this.img.y=-15*Math.cos(2*Math.PI*c)});"loaded"===f.status&&(f=f.img,d.add(new k(function(a){a.drawImage(f,0,0)}),"img"));d.x=e/2+510;d.y=25;h.add(d).add(g).start();m({type:n,k:q+"show"})}var v=b("widget.canlash.stage"),
k=b("widget.canlash.sprite"),g=b("widget.canlash.effect"),w=b("widget.canlash.imageloader"),m=b("common.js.log"),p=g.percent,r=b("common.js.jquery"),j={snow:"http://s0.hao123img.com/res/coolskin/xmas/snow.png",carriage:"http://s0.hao123img.com/res/coolskin/xmas/100.png"},h,s,a,o=400,e=1700,b=r(window).width(),n="auto",q="coolskin-xmas-";b<e&&(e=b);return t={init:function(b){s=b;a=document.createElement("canvas");a.height=o;a.width=e;a.setAttribute("style","display:none;position:absolute;top:0;left:-"+
e/2+"px;margin-left:50%;background:url(http://s0.hao123img.com/res/coolskin/xmas/bg.jpg) no-repeat center top;");b=document.getElementById(b);b.insertBefore(a,b.firstChild);w(j,function(){u()});r(a).fadeIn(800)},stop:function(){h.stop();document.getElementById(s).removeChild(a);m({type:n,k:q+"clz"})}}});window.js_MQUeKGTqik&&window.js_MQUeKGTqik(!0);
